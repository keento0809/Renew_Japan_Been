<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewpoint", content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>Renew Japan Been</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= stylesheet_link_tag 'homes', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%# Rails6の場合はjavascript_include_tagではなくjavascript_pack_tagを用いる %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp" crossorigin="anonymous">
  </head>

  <body>
    <% if logged_in? %>
    <!-- サーチアイコンをクリックしたときのモーデル -->
    <div id="js-search-modal" class="serach-modal hidden">
    <section class="search-header">
      <i class="fas fa-times fa-2x" id="js-cross"></i>
      <h2>Select Prefecture</h2>
      <%# Formの外からCheckのPostを実行する %>
      <button type="submit" form="testBtn">
        <i class="fas fa-check fa-2x" id='js-check' type="submit" form="testBtn"></i>
      </button>

      <%# 元の記述コメントアウト中 %>
      <%# <i class="fas fa-check fa-2x" id='js-check'></i> %>
    </section>
    <form action="" class="search-form">
      <!-- <i class="fas fa-search-plus"></i> -->
      <input type="text" name="" id="search-input">
      <span>Cancel</span>
    </form>

    <!-- 県名一覧 -->
    <article>
      <!-- 配列で追加するとDOM操作で追加する？それともあらかじめ作成しておく？→とりあえずDOMでcreateElement使ってみる。idをpref1~47としてDOMで付与していく -->
      <ul id="js-pref-list"> 
        <!-- ここに県を追加していく -->
          <%= form_with(model: @check, local: true, id: 'testBtn') do |form| %>
            <%= form.hidden_field :user_id, :value => current_user.id %>

              <ul id="js-pref-list">
                <li id="jsPref0" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 1, nil %>北海道</li>
                <li id="jsPref1" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 2, nil %>青森</li>
                <li id="jsPref2" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 3, nil %>秋田</li>
                <li id="jsPref3" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 4, nil %>岩手</li>
                <li id="jsPref4" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 5, nil %>山形</li>
                <li id="jsPref5" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 6, nil %>宮城</li>
                <li id="jsPref6" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 7, nil %>福島</li>
                <li id="jsPref7" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 10, nil %>群馬</li>
                <li id="jsPref8" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 9, nil %>栃木</li>
                <li id="jsPref9" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 8, nil %>茨城</li>
                <li id="jsPref10" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 11, nil %>埼玉</li>
                <li id="jsPref11" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 12, nil %>千葉</li>
                <li id="jsPref12" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 13, nil %>東京</li>
                <li id="jsPref13" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 14, nil %>神奈川</li>
                <li id="jsPref14" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 18, nil %>新潟</li>
                <li id="jsPref15" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 19, nil %>富山</li>
                <li id="jsPref16" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 20, nil %>石川</li>
                <li id="jsPref17" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 47, nil %>福井</li>
                <li id="jsPref18" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 17, nil %>長野</li>
                <li id="jsPref19" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 22, nil %>岐阜</li>
                <li id="jsPref20" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 16, nil %>山梨</li>
                <li id="jsPref21" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 21, nil %>愛知</li>
                <li id="jsPref22" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 15, nil %>静岡</li>
                <li id="jsPref23" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 28, nil %>京都</li>
                <li id="jsPref24" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 24, nil %>滋賀</li>
                <li id="jsPref25" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 27, nil %>大阪</li>
                <li id="jsPref26" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 26, nil %>奈良</li>
                <li id="jsPref27" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 23, nil %>三重</li>
                <li id="jsPref28" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 25, nil %>和歌山</li>
                <li id="jsPref29" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 29, nil %>兵庫</li>
                <li id="jsPref30" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 32, nil %>鳥取</li>
                <li id="jsPref31" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 30, nil %>岡山</li>
                <li id="jsPref32" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 33, nil %>島根</li>
                <li id="jsPref33" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 31, nil %>広島</li>
                <li id="jsPref34" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 38, nil %>山口</li>
                <li id="jsPref35" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 34, nil %>香川</li>
                <li id="jsPref36" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 36, nil %>愛媛</li>
                <li id="jsPref37" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 35, nil %>徳島</li>
                <li id="jsPref38" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 37, nil %>高知</li>
                <li id="jsPref39" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 39, nil %>福岡</li>
                <li id="jsPref40" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 40, nil %>佐賀</li>
                <li id="jsPref41" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 41, nil %>長崎</li>
                <li id="jsPref42" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 42, nil %>大分</li>
                <li id="jsPref43" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 43, nil %>熊本</li>
                <li id="jsPref44" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 44, nil %>宮崎</li>
                <li id="jsPref45" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 45, nil %>鹿児島</li>
                <li id="jsPref46" class="searchPref"><%= form.check_box :prefecture_ids, { multiple: true }, 46, nil %>沖縄</li>  
              </ul>

            <%#= form.submit %>
            <%#= form.button :type => "submit", style: 'border-style: none;' do %>
              <%# <i class='fas fa-check fa-2x'></i> %>
            <%# end %>

          <% end %>


        <!-- <li><i class="fas fa-check-circle"></i></li> -->
      </ul>
    </article>
    </div>
    <% end %>

    <!-- ヘッダー -->
    <% if false %>
    <header>
        <div class="header" id="js-header">
        <h1 class="header-title">Japan been</h1>
        <!-- <h1 class="header-title"><%= link_to "Japan been", root_url %></h1> -->
        <div class="search">
            <i class="fas fa-search fa-2x" id="js-search-icon"></i>
        </div>
        <!-- ハンバーガーメニュー -->
        <input type="checkbox" class="openSidebarMenu" id="openSidebarMenu">
        <label for="openSidebarMenu" class="sidebarIconToggle">
            <div class="spinner diagonal part-1"></div>
            <div class="spinner horizontal"></div>
            <div class="spinner diagonal part-2"></div>
        </label>
        <div id="sidebarMenu">
            <ul class="sidebarMenuInner">

            <% if false %> <!-- オリジナル版コメントアウト -->
            <li><a href="https://vanila.io" target="_blank">登録情報の編集</a></li>
            <li><a href="https://vanila.io" target="_blank">ログアウト</a></li>
            <% end %> <!-- コメントアウトここまで -->

            <!-- 書き換え版 -->
            <% if logged_in? %>
                <li><%= "ユーザー名：#{current_user.name}" %> </li>
                <li><%= link_to "マイページ", user_path(current_user.id) %></li>
                <li><%= link_to "登録情報の編集", edit_user_path(current_user.id) %></li>
                <li><%= link_to "ログアウト", logout_path, method: :delete %></li>
            <% end %>
            <!-- 書き換え版ここまで -->

            </ul> 
            </div> <!-- slidemenu -->
        </div> <!-- header -->
        <!-- ここまでハンバーガーメニュー -->
    </header>
    <% end %>
    <!-- ヘッダーここまで -->

    <main>
        <%# <div class="main-container"> %>

        <!-- アラートメッセージのコメントアウト解除中 -->
        <%# if false %>

            <% flash.each do |message_type, message| %>
                <%= content_tag(:div, message, class: "alert alert-#{message_type}") %>
            <% end %>

        <%# end %>
            <%= yield %>
        <%# </div> %>
    </main>

    <% if false %>
    <!-- フッターここから -->
    <footer>
        <section class="snsShare">
        <i class="fas fa-external-link-alt"></i>
        <span id="js-test">Japan beenをSNSでシェア</span>
        </section>
    </footer>
    <!-- フッターここまで -->
    <% end %>
  <!-- JS読み込み -->
  <%= javascript_pack_tag 'image-upload' %>
  <%= javascript_pack_tag 'index' %>
  </body>
</html>
